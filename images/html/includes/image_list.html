{# This is what gets included in a template to enable image uploads on that page. #}
<div class="card">
    <div class="card-header border-bottom">&nbsp;</div>
    <h5 class="card-title text-center mt-3 mb-0">Add images</h5>
    {% include 'images/html/includes/upload_response.html' %}
</div>
    
<script>

    $(document).ready(function() {
        $("#id_image_list").sortable({
            update: function(event, ui) {
                // serialize as array or hash for storing order on server
                let ar = $("#id_image_list").sortable("toArray");
                let ha = $("#id_image_list").sortable("serialize", { key: "image" });
            },
        });
        $("#id_image_list").disableSelection();
    });


    // Gets called by HTMX when the response headers include HX-Trigger: "displayToast"
    document.body.addEventListener("displayToast", function(e) {
        const toastEl = document.getElementById("id_message_toast");
        const stoast = bootstrap.Toast.getOrCreateInstance(toastEl, {/*'delay': 1000*/});
        stoast.show();
    });

</script>
